<div class="hero">
  <!-- capas de fondo para cross-fade -->
  <div class="bg layer" [class.show]="showA()" [style.background-image]="bgCss(aUrl())"></div>
  <div class="bg layer" [class.show]="!showA()" [style.background-image]="bgCss(bUrl())"></div>

  <!-- overlay de gradiente -->
  <div class="overlay"></div>

  <!-- tarjeta de login -->
  <div class="center">
    <mat-card appearance="outlined" class="card">
      <h1>Movies App</h1>
      <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
        <mat-form-field appearance="outline" class="full">
          <mat-label>Email</mat-label>
          <input matInput type="email" formControlName="email" autocomplete="email" />
          <mat-error *ngIf="form.get('email')?.hasError('required')">Obligatorio</mat-error>
          <mat-error *ngIf="form.get('email')?.hasError('email')">Formato inválido</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full">
          <mat-label>Contraseña</mat-label>
          <input
            matInput
            [type]="hide ? 'password' : 'text'"
            formControlName="password"
            autocomplete="current-password"
          />
          <button
            mat-icon-button
            matSuffix
            type="button"
            (click)="hide = !hide"
            aria-label="Mostrar/ocultar"
          >
            <mat-icon>{{ hide ? 'visibility' : 'visibility_off' }}</mat-icon>
          </button>
          <mat-error *ngIf="form.get('password')?.hasError('required')">Obligatoria</mat-error>
          <mat-error *ngIf="form.get('password')?.hasError('minlength')"
            >Mínimo 6 caracteres</mat-error
          >
        </mat-form-field>

        <button mat-flat-button color="primary" class="full" [disabled]="form.invalid || loading">
          Entrar
        </button>
      </form>

      <small class="attribution">
        This product uses the TMDB API but is not endorsed or certified by TMDB.
      </small>
    </mat-card>
  </div>
</div>
